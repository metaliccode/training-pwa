<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2980b9" />
    <link
      rel="apple-touch-icon"
      sizes="192x192"
      href="assets/img/icon-192x192.png"
    />
    <link rel="manifest" href="manifest.json" />
    <!-- css bootstrap -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <title>PWA - Training</title>
  </head>
  <body>
    <!-- NAVBAR Component -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">PWA App</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="features.html">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container text-center">
      <h1 class="mt-5">Tentang Perusahaan Kami</h1>
      <img
        src="assets/img/logo.png"
        class="img-fluid"
        alt="Gambar banner About"
        width="50%"
      />
    </div>

    <!-- Script Bootstrap -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>

    <script>
      console.log(Notification.permission);
      function showNotification() {
        const notif = new Notification("PWA App", {
          body: "Selamat datang di PWA App",
          icon: "assets/img/icon-192x192.png",
        });
        notif.onclick = function () {
          window.open("https://www.google.com");
        };
      }

      if (Notification.permission === "granted") {
        showNotification();
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission(function (permission) {
          if (permission === "granted") {
            showNotification();
          }
        });
      }

      // Cara 1
      // if (Notification.permission == "granted") {
      //   navigator.serviceWorker.getRegistration().then(function (registration) {
      //     registration.showNotification("PWA App", {
      //       body: "Selamat anda telah menjadi member",
      //       icon: "assets/img/icon-192x192.png",
      //     });
      //   });
      // }

      // Cara 2
      // if (Notification.permission === "granted") {
      //   var notification = new Notification("Hi, ini adalah notifikasi");
      // } else {
      //   Notification.requestPermission().then(function (permission) {
      //     if (!("permission" in Notification)) {
      //       Notification.permission = permission;
      //     }

      //     if (permission === "granted") {
      //       var notification = new Notification("Hi, ini adalah notifikasi");
      //    showNotification();
      //     }
      //   });
      // }

      // Cara 3
      // if (Notification.permission === "granted") {
      //   const notification = new Notification("Hi, ini adalah notifikasi");
      // } else if (Notification.permission === "denied") {
      //   console.log("Notifikasi ditolak");
      // } else {
      //   Notification.requestPermission().then((permission) => {
      //     if (permission === "granted") {
      //       const notification = new Notification("Hi, ini adalah notifikasi");
      //       showNotification();
      //     } else {
      //       console.log("Notifikasi ditolak");
      //     }
      //   });
      // }
    </script>
  </body>
</html>
